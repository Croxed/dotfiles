#!/usr/bin/env bash
if [ "$(uname)" == "Darwin" ]; then
    spotstatus="$(spotctl status)"
    if [[ "$spotstatus" != *"paused"* ]]; then
        track="$(spotctl status | grep "Track" | sed 's/Track: //')"
        artist="$(spotctl status | grep "Artist" | sed 's/Artist: //')"
        printf '▶︎ %s - %s' "$artist" "$track"
    else
        printf '■ %s' "$spotstatus"
    fi
else
    spotstatus="$(spotctl status)"
    if [[ "$spotstatus" != *"paused"* ]]; then
        track="$(spotctl status | grep "Track" | sed 's/Track: //')"
        artist="$(spotctl status | grep "Artist" | sed 's/Artist: //')"
        printf '▶︎ %s - %s' "$artist" "$track"
    else
        printf '▶︎ %s' "$spotstatus"
    fi
fi
