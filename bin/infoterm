#!/bin/bash
#
# info.sh - displays info about wm, font, gtk theme
# copied from z3bra's blog
#

c00=$'\e[0;30m'
c01=$'\e[0;31m'
c02=$'\e[0;32m'
c03=$'\e[0;33m'
c04=$'\e[0;34m'
c05=$'\e[0;35m'
c06=$'\e[0;36m'
c07=$'\e[0;37m'
c08=$'\e[1;30m'
c09=$'\e[1;31m'
c10=$'\e[1;32m'
c11=$'\e[1;33m'
c12=$'\e[1;34m'
c13=$'\e[1;35m'
c14=$'\e[1;36m'
c15=$'\e[1;37m'

f0=$'\e[1;30m'
f1=$'\e[1;37m'
f2=$'\e[0;37m'

kernel=$(uname -r)
osx_version="$(sw_vers -productVersion)"
osx_build="$(sw_vers -buildVersion)"

case "${osx_version%.*}" in
      "10.4") codename="Mac OS X Tiger" ;;
      "10.5") codename="Mac OS X Leopard" ;;
      "10.6") codename="Mac OS X Snow Leopard" ;;
      "10.7") codename="Mac OS X Lion" ;;
      "10.8") codename="OS X Mountain Lion" ;;
      "10.9") codename="OS X Mavericks" ;;
      "10.10") codename="OS X Yosemite" ;;
      "10.11") codename="OS X El Capitan" ;;
      "10.12") codename="macOS Sierra" ;;
      *) codename="Mac OS X" ;;
      esac
      system="$codename $osx_version"
      
if [[ -n $DISPLAY ]]; then
    wmname="Quartz Compositor"
    wmtheme="$(/usr/libexec/PlistBuddy -c "Print AppleInterfaceStyle" ~/Library/Preferences/.GlobalPreferences.plist)"
else
    wmname="none"
    termfn="none"
    systfn="none"
fi

pkgnum="$(($(find /usr/local/Cellar -maxdepth 1 2>/dev/null | wc -l) - 1))"
birthd=$(cat /var/log/install.log | grep " Install Complete" | awk '{print $1 " " $2}')

cat << EOF



    ${c11}▉▉  | ${f1}OS ${f0}........... $f2$system
    ${c12}  ▉▉| ${f1}name ${f0}......... $f2$HOSTNAME
    ${c13}▉▉  | ${f1}packages ${f0}..... $f2$pkgnum
    ${c02}  ▉▉| 
    ${c14}▉▉  | ${f1}kernel ${f0}....... $f2$kernel
    ${c15}  ▉▉| ${f1}wm ${f0}........... $f2$wmname
    ${c12}▉▉  | ${f1}shell ${f0}........ $f2$SHELL
    ${c03}  ▉▉|
    ${c13}▉▉  | ${f1}terminal ${f0}..... $f2$TERM
    ${c15}  ▉▉| ${f1}wm theme ${f0}..... $f2$wmtheme
    ${c04}▉▉  |



EOF
